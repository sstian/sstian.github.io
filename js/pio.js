"use strict";var KanbanPio=function(n){var e=this,t={idol:0,menu:document.querySelector(".pio-container .pio-action"),canvas:document.getElementById("pio"),body:document.querySelector(".pio-container"),root:document.location.protocol+"//"+document.location.hostname+"/"},o={idol:function(){return t.idol<n.model.length-1?t.idol++:t.idol=0,t.idol},create:function(e,n){e=document.createElement(e);return n.class&&(e.className=n.class),e},rand:function(e){return e[Math.floor(Math.random()*(e.length-1))]},render:function(e){e.constructor===Array?r.innerText=o.rand(e):e.constructor===String&&(r.innerText=e),r.classList.add("active"),clearTimeout(this.t),this.t=setTimeout(function(){r.classList.remove("active")},3e3)},destroy:function(){e.initHidden(),localStorage.setItem("posterGirl",0)},isMobile:function(){var e=(e=window.navigator.userAgent.toLowerCase()).indexOf("mobile")||e.indexOf("android")||e.indexOf("ios");return window.innerWidth<500||-1!==e}};this.destroy=o.destroy;var i={home:o.create("span",{class:"pio-home"}),skin:o.create("span",{class:"pio-skin"}),info:o.create("span",{class:"pio-info"}),sentence:o.create("span",{class:"pio-sentence"}),show:o.create("div",{class:"pio-show"})},r=o.create("div",{class:"pio-dialog"});t.body.appendChild(r),t.body.appendChild(i.show);var c=function(){var e;""!==document.referrer&&-1===document.referrer.indexOf(t.root)?((e=document.createElement("a")).href=document.referrer,n.content.referer?o.render(n.content.referer.replace(/%t/,"“"+e.hostname+"”")):o.render("欢迎来自 “"+e.hostname+"” 的朋友！")):n.tips?(e=22<(e=(new Date).getHours())||e<=5?"你是夜猫子呀？这么晚还不睡觉，明天起得来嘛":5<e&&e<=8?"早上好！":8<e&&e<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":11<e&&e<=14?"中午了，工作了一个上午，现在是午餐时间！":14<e&&e<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":17<e&&e<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~":19<e&&e<=21?"晚上好，今天过得怎么样？":21<e&&e<=23?"已经这么晚了呀，早点休息吧，晚安~":"听我说：这个是无法被触发的吧，哈哈",o.render(e)):o.render(n.content.welcome||"欢迎来到本站！")},s=function(){t.canvas.onclick=function(){o.render(n.content.touch||["你在干什么？","干嘛动我呀！小心我咬你！","非礼呀！救命！","再摸的话我可要报警了⌇●﹏●⌇","是···是不小心碰到了吧~~~","110 吗，这里有个变态一直在摸我(ó﹏ò)","HENTAI!","不可以这样欺负我啦！","萝莉控是什么呀？","你看到我的小熊了吗？"])}},d=function(){i.home.onclick=function(){location.href=t.root},i.home.onmouseover=function(){o.render(n.content.home||"点击这里回到首页！")},t.menu.appendChild(i.home),i.skin.onclick=function(){loadlive2d("pio",n.model[o.idol()]),n.content.skin&&n.content.skin[1]?o.render(n.content.skin[1]):o.render("新衣服真漂亮~")},i.skin.onmouseover=function(){n.content.skin&&n.content.skin[0]?o.render(n.content.skin[0]):o.render("想看看我的新衣服吗？")},1<n.model.length&&t.menu.appendChild(i.skin),i.info.onclick=function(){window.open("https://www.sstian.top")},i.info.onmouseover=function(){o.render("想了解更多关于我的信息吗？")},t.menu.appendChild(i.info),i.sentence.onclick=function(){o.render(fetch("https://v1.hitokoto.cn").then(function(e){return e.json()}).then(function(e){var n=document.querySelector(".pio-dialog");n.href="https://hitokoto.cn/?uuid="+e.uuid,n.innerText=e.hitokoto}).catch(console.error))},i.sentence.onmouseover=function(){o.render("我从青蛙王子那里听到了不少人生经验。")},t.menu.appendChild(i.sentence)},a=function(){n.content.custom.forEach(function(e){e.type||(e.type="default");var n=document.querySelectorAll(e.selector);if(n.length)for(var t=0;t<n.length;t++)"read"===e.type?n[t].onmouseover=function(){o.render("想阅读 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:"link"===e.type?n[t].onmouseover=function(){o.render("想了解一下 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:e.text&&(n[t].onmouseover=function(){o.render(e.text)})})},l=function(){t.body.classList.add("static")},u=function(){s(),d()},m=function(){s(),d();var o=t.body;o.onmousedown=function(e){var n={x:e.clientX-this.offsetLeft,y:e.clientY-this.offsetTop};function t(e){o.classList.add("active"),o.classList.remove("right"),o.style.left=e.clientX-n.x+"px",o.style.top=e.clientY-n.y+"px",o.style.bottom="auto"}document.addEventListener("mousemove",t),document.addEventListener("mouseup",function(){o.classList.remove("active"),document.removeEventListener("mousemove",t)})}};this.init=function(e){if(!n.hidden||!o.isMobile()){switch(e||(c(),loadlive2d("pio",n.model[Math.floor(Math.random()*n.model.length)])),n.mode){case"static":l();break;case"fixed":u();break;case"draggable":m()}n.content.custom&&a()}},this.initHidden=function(){t.body.classList.add("hidden"),r.classList.remove("active"),i.show.onclick=function(){t.body.classList.remove("hidden"),localStorage.setItem("posterGirl",1),e.init()}},0==localStorage.getItem("posterGirl")?this.initHidden():this.init()};